# =============================================================================
# Environment Variables for Centralized Logging and Metrics Collection System
# =============================================================================
# 
# This file documents all environment variables that can be used to configure
# the application. Copy this file to .env and adjust values as needed.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   docker-compose up
#
# =============================================================================

# -----------------------------------------------------------------------------
# Application Service Ports
# -----------------------------------------------------------------------------
# These ports are exposed on the host machine to access the application services

# Port for the user service
# Default: 8081
USER_SERVICE_PORT=8081

# Port for the product service
# Default: 8082
PRODUCT_SERVICE_PORT=8082

# Port for the order service
# Default: 8083
ORDER_SERVICE_PORT=8083

# -----------------------------------------------------------------------------
# Metrics Sidecar Ports
# -----------------------------------------------------------------------------
# These ports expose the enriched Prometheus-compatible metrics endpoints

# Port for the user service metrics sidecar
# Default: 9091
USER_METRICS_PORT=9091

# Port for the product service metrics sidecar
# Default: 9092
PRODUCT_METRICS_PORT=9092

# Port for the order service metrics sidecar
# Default: 9093
ORDER_METRICS_PORT=9093

# -----------------------------------------------------------------------------
# Log Aggregator Configuration
# -----------------------------------------------------------------------------

# Port for the mock log aggregator
# Default: 8000
LOG_AGGREGATOR_PORT=8000

# URL for the mock log aggregator (used by logging sidecars)
# Internal Docker network URL - do not change unless modifying the architecture
# Default: http://log-aggregator:8080/logs
LOG_AGGREGATOR_URL=http://log-aggregator:8080/logs

# -----------------------------------------------------------------------------
# Environment Configuration
# -----------------------------------------------------------------------------

# Environment name for metrics labels and log metadata
# This value is added to all metrics and logs for environment identification
# Common values: development, staging, production, testing
# Default: development
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Advanced Configuration (Optional)
# -----------------------------------------------------------------------------

# Logging sidecar poll interval (seconds)
# How often the logging sidecar checks for new log entries
# Default: 2
# LOG_POLL_INTERVAL=2

# Metrics scrape interval (seconds)
# How often metrics sidecars scrape the application /metrics endpoint
# Default: 10
# METRICS_SCRAPE_INTERVAL=10

# Health check configuration
# Adjust these if services need more time to start up
# HEALTH_CHECK_INTERVAL=10s
# HEALTH_CHECK_TIMEOUT=5s
# HEALTH_CHECK_RETRIES=3
# HEALTH_CHECK_START_PERIOD=5s

# =============================================================================
# Notes:
# =============================================================================
#
# 1. Port Conflicts: Ensure the ports specified are not already in use on your
#    host machine. If you encounter "port already in use" errors, change the
#    port numbers above.
#
# 2. Docker Networks: The LOG_AGGREGATOR_URL uses Docker's internal networking.
#    Service names (e.g., log-aggregator) automatically resolve to container
#    IP addresses within the app-network.
#
# 3. Defaults: All variables have default values in docker-compose.yml. You
#    only need to set them here if you want to override the defaults.
#
# 4. Production Use: For production deployments:
#    - Set ENVIRONMENT=production
#    - Use proper secrets management for sensitive data
#    - Configure appropriate resource limits in docker-compose.yml
#    - Implement persistent storage for the log aggregator
#    - Consider using production-grade tools (Fluentd, Prometheus, etc.)
#
# 5. Testing: The default values are suitable for local development and testing.
#    No .env file is required to run the system with defaults.
#
# =============================================================================
